/* Virtual Playlist Styles - Optimized for performance */

.virtual-playlist-container {
    height: 100%;
    width: 100%;
    position: relative;
    contain: layout style paint; /* CSS containment for better performance */
}

.virtual-playlist-container .related-video {
    will-change: auto; /* Don't use will-change by default */
    contain: layout style paint;
}

/* Only apply will-change during scroll */
.virtual-playlist-container.scrolling .related-video {
    will-change: transform;
}

/* Optimize transitions - only on hover */
.virtual-playlist-container .related-video {
    transition: none;
}

.virtual-playlist-container .related-video:hover {
    transition: background-color 0.2s;
}

/* Reduce repaints on thumbnail loading */
.virtual-playlist-container .related-thumb {
    contain: layout style paint;
    background: #f0f0f0; /* Prevent flash during load */
}

.virtual-playlist-container .lazy-thumb {
    contain: layout style paint;
}

/* Optimize image rendering */
.virtual-playlist-container img {
    will-change: auto;
    transform: translateZ(0); /* Force GPU acceleration only for images */
}

/* Scrollbar styling - identical to danmaku panel */
#playlistContent > div::-webkit-scrollbar,
.virtual-playlist-scroll::-webkit-scrollbar {
    width: 4px !important;
}

#playlistContent > div::-webkit-scrollbar-track,
.virtual-playlist-scroll::-webkit-scrollbar-track {
    background: transparent !important;
}

#playlistContent > div::-webkit-scrollbar-thumb,
.virtual-playlist-scroll::-webkit-scrollbar-thumb {
    background: rgba(255, 105, 180, 0.4) !important;
    border-radius: 2px !important;
}

#playlistContent > div::-webkit-scrollbar-thumb:hover,
.virtual-playlist-scroll::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 105, 180, 0.6) !important;
}

/* Firefox */
#playlistContent > div,
.virtual-playlist-scroll {
    scrollbar-width: thin !important;
    scrollbar-color: rgba(255, 105, 180, 0.4) transparent !important;
}

/* Dark theme scrollbar */
body.dark-theme #playlistContent > div::-webkit-scrollbar-thumb,
body.dark-theme .virtual-playlist-scroll::-webkit-scrollbar-thumb {
    background: rgba(255, 105, 180, 0.4) !important;
}

body.dark-theme #playlistContent > div::-webkit-scrollbar-thumb:hover,
body.dark-theme .virtual-playlist-scroll::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 105, 180, 0.6) !important;
}

body.dark-theme #playlistContent > div,
body.dark-theme .virtual-playlist-scroll {
    scrollbar-color: rgba(255, 105, 180, 0.4) transparent !important;
}
