/* Danmaku Density Visualization */
.danmaku-density {
    position: absolute;
    bottom: 50px;

    left: 15px;
    right: 15px;
    height: 50px;

    z-index: 10003;

    pointer-events: none;
    display: none;

    opacity: 1;
    transition: opacity 0.3s ease-out, transform 0.3s ease-out;
    transform: translateY(0);
    will-change: transform, opacity;
}

.danmaku-density canvas {
    width: 100%;
    height: 100%;
    display: block;
}

.danmaku-density.autohide {
    opacity: 0;
    pointer-events: none;
    transform: translateY(45px);
}

.danmaku-density.show {
    opacity: 1;
    transform: translateY(0);
}

.danmaku-density.no-transition {
    transition: none !important;
}


/* Raise density graph when fullscreen danmaku form is visible */
.video-container.fullscreen:not(.fs-form-hidden) #danmakuDensity {
    bottom: 100px;
}

/* Cinema mode - check if form is visible via videoContainer class */
body.cinema-mode .video-container:not(.fs-form-hidden) #danmakuDensity {
    bottom: 50px;
}

/* Cinema mode - when form is hidden, keep graph at normal position */
body.cinema-mode .video-container.fs-form-hidden #danmakuDensity {
    bottom: 50px !important;
}
