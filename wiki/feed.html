<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feed | Youvi Wiki</title>
    <!-- Load header CSS FIRST to prevent layout shifts -->
    <link rel="stylesheet" href="../youvi/header/youvi-header.css">
    <script>
        (function() {
            var theme = localStorage.getItem('youvi-theme');
            var sidebar = localStorage.getItem('sidebarCollapsed');
            
            var htmlClasses = [];
            if (theme === 'dark') htmlClasses.push('dark-theme');
            else if (theme === 'skeuo') htmlClasses.push('skeuo-theme');
            if (sidebar === 'true') htmlClasses.push('sidebar-collapsed');
            if (htmlClasses.length) document.documentElement.className = htmlClasses.join(' ');
        })();
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            width: 100%;
        }

        body {
            font-family: Arial, sans-serif;
            background: #fff;
            color: #111;
            max-width: 100vw;
        }

        .top-nav {
            background: #d94b88;
            border-bottom: 1px solid #c2185b;
            padding: 4px 0;
        }

        .top-nav-content {
            max-width: none !important;
            margin: 0 !important;
            padding: 0 20px;
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .top-nav a {
            color: #fff;
            text-decoration: none;
            font-size: 12px;
            padding: 2px 0;
            transition: color 0.2s;
        }

        .top-nav a:hover {
            color: #ffd6ea;
        }

        .top-nav a.active {
            color: #ffd6ea;
            font-weight: 600;
        }

        .sidebar-collapsed .sidebar,
        html.sidebar-collapsed .sidebar {
            width: 60px !important;
            padding: 10px 8px !important;
            display: block !important;
            position: sticky !important;
            top: 40px !important;
            max-height: calc(var(--sidebar-max-height, 100vh) - 75px) !important;
            overflow-y: auto !important;
            overflow-x: hidden !important;
        }

        .sidebar-collapsed .sidebar-title,
        html.sidebar-collapsed .sidebar-title {
            display: none !important;
        }

        .sidebar-collapsed .sidebar-item,
        html.sidebar-collapsed .sidebar-item {
            padding: 8px !important;
            padding-left: 5px !important;
            padding-right: 8px !important;
            justify-content: center !important;
            border-left: 3px solid transparent !important;
            border-radius: 4px;
            font-size: 0 !important;
        }

        .sidebar-collapsed .sidebar-item svg,
        html.sidebar-collapsed .sidebar-item svg {
            margin: 0 !important;
            width: 20px !important;
            height: 20px !important;
        }

        .sidebar-collapsed .container,
        html.sidebar-collapsed .container {
            padding-left: 20px;
        }

        .sidebar-collapsed .content-wrapper,
        html.sidebar-collapsed .content-wrapper {
            max-width: 1500px;
        }

        .sidebar-collapsed .sidebar-section:nth-child(3),
        .sidebar-collapsed .sidebar-section:nth-child(4),
        .sidebar-collapsed .sidebar-section:nth-child(5),
        html.sidebar-collapsed .sidebar-section:nth-child(3),
        html.sidebar-collapsed .sidebar-section:nth-child(4),
        html.sidebar-collapsed .sidebar-section:nth-child(5) {
            display: none !important;
        }

        .container {
            width: 100%;
            margin: 0;
            padding: 0 20px 0 20px;
            display: flex;
            gap: 20px;
            align-items: stretch;
            min-height: calc(100vh - 200px);
        }
        
        .content-wrapper {
            display: flex;
            flex: 1;
            max-width: 1400px;
            margin: 0 auto;
            gap: 20px;
        }

        .header {
            background: #FFE7F4;
            padding: 0;
            border-bottom: 1px solid #f2cfe1;
            min-height: 40px;
            width: 100%;
        }
        
        body.dark-theme .header {
            background: #2c1810 !important;
            border-bottom: 1px solid #444 !important;
        }

        .header-content-wrapper {
            display: flex;
            align-items: center;
            position: relative;
            box-sizing: border-box;
            max-width: none !important;
            margin: 0 !important;
            padding: 0 20px;
            width: 100%;
            min-height: 40px;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding-top: 20px;
        }


.page-header{background:#fafafa;border:1px solid #e0e0e0;border-radius:6px;padding:16px 18px;margin-bottom:15px}
.page-title{font-size:21px;font-weight:600;color:#111;margin-bottom:6px}
.page-desc{font-size:13px;color:#666}
.tech-section{background:#fff;border:1px solid #e6e6e6;border-radius:6px;padding:16px 18px;margin-bottom:15px}
.tech-section h2{font-size:18px;margin:0 0 10px 0;color:#111}
.tech-section h3{font-size:14px;margin:14px 0 8px 0;color:#333}
.tech-section h4{font-size:13px;margin:10px 0 6px 0;color:#444}
.tech-section p{font-size:14px;color:#333;line-height:1.75;margin:8px 0;text-align:justify}
.tech-section ul{margin:8px 0 8px 20px}
.tech-section ol{margin:8px 0 8px 20px}
.tech-section li{font-size:14px;line-height:1.6;margin:6px 0;color:#333}
.tech-section code{background:#f5f5f5;padding:2px 6px;border-radius:3px;font-family:monospace;font-size:13px;color:#d94b88}
.callout{background:#fff5f9;border:1px solid #ffd6ea;border-radius:6px;padding:12px;margin:12px 0;color:#7a3c55}
.toc{background:#fafafa;border:1px dashed #e0e0e0;border-radius:6px;padding:12px;margin:12px 0}
.toc a{color:#111;text-decoration:none}
.toc a:hover{color:#ff69b4;text-decoration:underline}

        .breadcrumbs {
            font-size: 12px;
            color: #666;
            margin-bottom: 10px;
        }

        .breadcrumbs a {
            color: #666;
            text-decoration: none;
        }

        .breadcrumbs span {
            color: #111;
        }

.footer{background:#2c2c2c;color:#fff;padding:25px 0 15px 0;margin-top:0}
body.dark-theme{background:#0d0d0d;color:#ddd}
body.dark-theme .sidebar{background:#1a1a1a}
body.dark-theme .page-header{background:#1a1a1a;border-color:#333;color:#ddd}
body.dark-theme .page-title{color:#fff}
body.dark-theme .page-desc{color:#999}
body.dark-theme .tech-section{background:#1a1a1a;border-color:#333}
body.dark-theme .tech-section h2{color:#fff}
body.dark-theme .tech-section h3{color:#ddd}
body.dark-theme .tech-section h4{color:#ccc}
body.dark-theme .tech-section p{color:#ccc}
body.dark-theme .tech-section li{color:#ccc}
body.dark-theme .tech-section code{background:#2a2a2a;color:#ff8aba}
body.dark-theme .callout{background:#2a1a1f;border-color:#4a2a3a;color:#ffb3d9}
body.dark-theme .toc{background:#1a1a1a;border-color:#333}
body.dark-theme .toc a{color:#ddd}
body.dark-theme .toc a:hover{color:#ff8aba}
body.dark-theme .breadcrumbs{color:#999}
body.dark-theme .breadcrumbs a{color:#999}
body.dark-theme .breadcrumbs span{color:#fff}

        .kbd {
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 3px;
            padding: 2px 6px;
            font-family: monospace;
            font-size: 12px;
            color: #333;
        }

        body.dark-theme .kbd {
            background: #2a2a2a;
            border-color: #444;
            color: #ccc;
        }
.footer-content{max-width:1600px;margin:0 auto;padding:0 20px;display:flex;gap:30px;align-items:flex-start}
.footer-main{display:flex;gap:30px;flex:1}
.footer-logo{flex-shrink:0;width:200px}
.footer-logo img{height:40px;width:auto}
.footer-logo p{margin-top:8px;font-size:11px;color:#ccc;line-height:1.3}
.footer-sections{display:flex;gap:30px;flex:1}
.footer-right{display:flex;gap:20px;align-items:flex-start}
.footer-mascot{flex-shrink:0}
.footer-mascot img{height:180px;width:auto}
.footer-section{flex:1}
.footer-section h3{font-size:13px;margin-bottom:10px;color:#fff;font-weight:600}
.footer-section ul{list-style:none;padding:0;margin:0}
.footer-section li{margin-bottom:6px}
.footer-section a{color:#ccc;text-decoration:none;font-size:11px;transition:color .2s}
.footer-section a:hover{color:#ff69b4}
.footer-bottom{border-top:1px solid #444;margin-top:20px;padding-top:15px;text-align:center;color:#999;font-size:10px}
        @media (min-width: 1700px) {
            .content-wrapper {
                max-width: 1500px;
            }
            
            .footer-content {
                max-width: 1700px !important;
            }
        }
        
        @media (min-width: 2000px) {
            .content-wrapper {
                max-width: 1600px;
            }
            
            .footer-content {
                max-width: 1800px !important;
            }
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                padding: 10px;
            }
            
            .footer-content {
                flex-direction: column;
                gap: 20px;
            }
            
            .footer-sections {
                flex-direction: column;
                gap: 15px;
            }
            
            .footer-section {
                text-align: center;
            }
            
            .footer-mascot img {
                height: 120px;
            }
        }
    </style>
    <link rel="stylesheet" href="../youvi/sidebar.css">
    <link rel="stylesheet" href="../youvi/sidebar-scroll.css">
    <link rel="stylesheet" href="../youvi/themes/dark-theme.css">
    <link rel="stylesheet" href="../youvi/themes/skeuo-theme.css">
    <link rel="stylesheet" href="../youvi/themes/theme-dropdown.css">
    <link rel="stylesheet" href="../youvi/sticky-video.css">
</head>
<link rel="icon" href="../favicon/youvi/favicon.ico" type="image/x-icon">
<body>
    <div class="top-nav">
        <div class="top-nav-content">
            <a href="../youvi_main.html">Videos</a>
            <a href="../index.html">Management</a>
            <a href="../youvi_ch_list.html">Channels</a>
            <a href="../youvi_playlists_list.html">Playlists</a>
            <a href="../youvi_feed_all.html">Feed</a> 
            <a href="index.html" class="active">Wiki</a>
        </div>
    </div>

  <header class="header">
    <div class="header-content-wrapper">
      <div class="header-left">
        <button id="sidebarToggle" class="sidebar-toggle-btn" aria-label="Toggle sidebar">
          <svg viewBox="0 0 24 24">
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </button>
        
        <div class="logo">
          <a href="../youvi_main.html">
            <img src="../images/logo_youvi_ind.png" alt="Youvi logo">
          </a>
        </div>
      </div>
      
      <div class="header-center">
        <div class="search-area">
          <input type="text" id="headerSearchInput" placeholder="Search videos..." class="search-input">
          <button id="doSearch" class="search-btn">Search</button>
        </div>
      </div>
      
      <div class="header-right">
        <div class="user-actions">
          <div class="settings-container">
            <a href="#" class="settings-btn">âš™</a>
            <div class="theme-dropdown">
              <button class="theme-dropdown-item" data-theme="light">Light</button>
              <button class="theme-dropdown-item" data-theme="dark">Dark</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

 <!-- Main Container -->
    <div class="container">
        <!-- Left Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <div class="sidebar-title">Navigation</div>
                <a href="../youvi_main.html" class="sidebar-item nav-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="1.5">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                        <polyline points="9,22 9,12 15,12 15,22"/>
                    </svg>
                    <span>Home</span>
                </a>
                <a href="../youvi_feed_all.html" class="sidebar-item nav-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="1.5">
                        <path d="M4 11a9 9 0 0 1 9 9"/>
                        <path d="M4 4a16 16 0 0 1 16 16"/>
                        <path d="M5 20a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                    </svg>
                    <span>Feed</span>
                </a>

                <a href="../youvi_tags.html" class="sidebar-item nav-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="1.5">
                        <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/>
                        <line x1="7" y1="7" x2="7.01" y2="7"/>
                    </svg>
                    <span>All Tags</span>
                </a>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-title">Library</div>
                <a href="../youvi_history.html" class="sidebar-item library-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="1.5">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12,6 12,12 16,14"/>
                    </svg>
                    <span>History</span>
                </a>
                <a href="../youvi_fav.html" class="sidebar-item library-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="1.5">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                    </svg>
                    <span>Favorites</span>
                </a>
                <a href="../youvi_playlists_list.html" class="sidebar-item library-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="1.5">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <line x1="8" y1="8" x2="16" y2="8"/>
                        <line x1="8" y1="12" x2="16" y2="12"/>
                        <line x1="8" y1="16" x2="16" y2="16"/>
                        <circle cx="6" cy="8" r="1"/>
                        <circle cx="6" cy="12" r="1"/>
                        <circle cx="6" cy="16" r="1"/>
                    </svg>
                    <span>Playlists</span>
                </a>
                <a href="../youvi_ch_list.html" class="sidebar-item library-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="1.5">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                        <path d="M23 21v-2a4 4 0 0 1-3-3.87"/>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                    </svg>
                    <span>Channels</span>
                </a>
                <a href="../youvi_subscriptions.html" class="sidebar-item library-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="1.5">
                        <rect x="2" y="7" width="20" height="15" rx="2" ry="2"/>
                        <polyline points="17,2 12,7 7,2"/>
                    </svg>
                    <span>Subscriptions</span>
                </a>
            </div>
            
            <div class="sidebar-section">
                <div class="sidebar-title">Wiki</div>
                <a href="index.html" class="sidebar-item library-item">Home</a>
                <a href="player.html" class="sidebar-item library-item">Player</a>
                <a href="danmaku.html" class="sidebar-item library-item ">Danmaku</a>
                <a href="search/general.html" class="sidebar-item library-item">Search: Interface</a>
                <a href="search/operators.html" class="sidebar-item library-item">Search: Operators</a>
                <a href="tags/general.html" class="sidebar-item library-item">Tags: General</a>
                <a href="tags/allias.html" class="sidebar-item library-item">Tags: Aliases</a>
                <a href="tags/implication.html" class="sidebar-item library-item">Tags: Implications</a>
                <a href="tags/rules.html" class="sidebar-item library-item">Tags: Tagging Rules</a>
                <a href="feed.html" class="sidebar-item library-item active">Feed</a>
            </div>
            
            <div class="sidebar-section">
                <div class="sidebar-title">About Site</div>
                <a href="about.html" class="sidebar-item library-item ">About Site</a>
                <a href="tech.html" class="sidebar-item library-item">Technologies</a>
                <a href="docs.html" class="sidebar-item library-item">Documentation</a>
            </div>

        </aside>

        <!-- Content Wrapper (centered) -->
        <div class="content-wrapper">
            <!-- Main Content -->
            <main class="main-content">
                <div class="breadcrumbs">
                    <a href="index.html">Wiki</a> â€º 
                    <span>Feed</span>
                </div>
<div class="page-header">
        <div class="page-title">Feed â€” Social System</div>
        <div class="page-desc">Complete guide to Feed system in Youvi â€” channels as communities, posts, comments with 10 nesting levels</div>
      </div>

      <div class="page-body">
        <div class="tech-section">
          <h2>Contents</h2>
          <div class="toc">
            <ul>
              <li><a href="#overview">What is Feed</a></li>
              <li><a href="#channels">Channels and subscriptions</a></li>
              <li><a href="#posts">How to create posts</a></li>
              <li><a href="#replies">Comments and discussions</a></li>
              <li><a href="#view-modes">Display modes</a></li>
              <li><a href="#sorting">Post sorting</a></li>
              <li><a href="#editor">Content editor</a></li>
              <li><a href="#images">Working with images</a></li>
              <li><a href="#technical">Technical information</a></li>
            </ul>
          </div>
        </div>

        <section class="tech-section" id="overview">
          <h2>What is Feed</h2>
          <p>Feed is a social system in Youvi where each channel works as a separate community with its own post feed. You can create posts, comment on them, like them, and subscribe to interesting channels.</p>
          <div class="callout">
            <strong>Main point:</strong> Each channel is a separate community with its own feed. The general feed shows posts from all channels at once.
          </div>
          <h3>Main features</h3>
          <ul>
            <li><strong>Channels</strong> â€” subscribe to interesting communities</li>
            <li><strong>Posts</strong> â€” publish text with formatting and images</li>
            <li><strong>Comments</strong> â€” discuss posts with up to 10 nesting levels</li>
            <li><strong>Likes</strong> â€” rate posts and comments</li>
            <li><strong>General feed</strong> â€” view all posts in one place</li>
          </ul>
          <h3>Where to find Feed</h3>
          <ul>
            <li><strong>General feed</strong> â€” Feed in top menu or sidebar</li>
            <li><strong>Channel feed</strong> â€” "Feed" tab on channel page</li>
            <li><strong>Channel list</strong> â€” Channels â†’ select channel â†’ Feed</li>
            <li><strong>Subscriptions</strong> â€” "Subscriptions" filter in general feed</li>
          </ul>
        </section>

        <section class="tech-section" id="channels">
          <h2>Channels and subscriptions</h2>
          <p>Each channel is a separate community with its own post feed. Subscribe to interesting channels to not miss new publications.</p>
          
          <h3>How to subscribe to a channel</h3>
          <ul>
            <li>Open channel page</li>
            <li>Click "Subscribe" button in channel header</li>
            <li>Channel will appear in subscriptions list</li>
          </ul>
          
          <h3>Where to view channel posts</h3>
          <ul>
            <li><strong>Channel feed</strong> â€” "Feed" tab on channel page</li>
            <li><strong>General feed</strong> â€” all posts from all channels</li>
            <li><strong>"Subscriptions" filter</strong> â€” only posts from your subscriptions</li>
          </ul>
          
          <h3>"Author" badge</h3>
          <p>Posts from channel owner are marked with a pink "Author" badge. This helps distinguish official publications from other users' comments.</p>
        </section>

        <section class="tech-section" id="posts">
          <h2>How to create posts</h2>
          <p>Posts are created on channel page. Open channel, go to "Feed" tab and use post creation form.</p>
          
          <h3>Post creation steps</h3>
          <ul>
            <li>Open channel page â†’ "Feed" tab</li>
            <li>Enter text in editor</li>
            <li>Use formatting buttons (bold, italic, headers)</li>
            <li>Add images via "img" button</li>
            <li>Click "Publish" or Ctrl+Enter</li>
          </ul>
          
          <h3>Publishing methods</h3>
          <ul>
            <li><strong>"Author" button</strong> â€” post on behalf of channel (with pink badge)</li>
            <li><strong>"Publish" button</strong> â€” post from your nickname</li>
            <li><strong>Ctrl+Enter</strong> â€” quick publish</li>
          </ul>
          
          <h3>Text formatting</h3>
          <p>Use toolbar above editor:</p>
          <ul>
            <li><strong>B</strong> â€” bold text</li>
            <li><strong>I</strong> â€” italic</li>
            <li><strong>U</strong> â€” underline</li>
            <li><strong>H</strong> â€” header</li>
            <li><strong>ðŸ”—</strong> â€” insert link</li>
            <li><strong>img</strong> â€” add image</li>
            <li><strong>âŒ˜</strong> â€” center image</li>
          </ul>
        </section>
   
        <section class="tech-section" id="replies">
          <h2>Comments and discussions</h2>
          <p>In Feed you can comment on posts with up to 10 nesting levels â€” create full discussions with replies to replies.</p>
          
          <h3>How to comment</h3>
          <ul>
            <li>Click "Open" on post in feed</li>
            <li>Post page with all comments will open</li>
            <li>Enter text in form at bottom</li>
            <li>Click "Reply" or use "Author" button</li>
          </ul>
          
          <h3>Replies to comments</h3>
          <ul>
            <li>Click "Reply" under any comment</li>
            <li>Reply form will open</li>
            <li>Enter text and click "Reply"</li>
            <li>Your reply will appear indented under comment</li>
          </ul>
          
          <h3>Comment actions</h3>
          <ul>
            <li><strong>Reply</strong> â€” write reply to comment</li>
            <li><strong>Like/Dislike</strong> â€” rate comment</li>
            <li><strong>Collapse</strong> â€” hide nested replies</li>
            <li><strong>Report</strong> â€” delete comment</li>
          </ul>
          
          <h3>Comment nesting</h3>
          <p>System supports up to 10 nesting levels. Each level is displayed with left indent. When 10th level is reached, message about maximum depth appears.</p>
        </section>

        <section class="tech-section" id="view-modes">
          <h2>Display modes</h2>
          <p>Feed can be viewed in two modes â€” compact and social. Choose the one convenient for you.</p>
          
          <h3>How to switch mode</h3>
          <ul>
            <li>Open sidebar</li>
            <li>Find "View mode" section</li>
            <li>Select "Compact" or "Timeline"</li>
            <li>Mode will be saved automatically</li>
          </ul>
          
          <h3>Compact mode</h3>
          <ul>
            <li>Posts as speech bubbles</li>
            <li>Avatar on left with "tail"</li>
            <li>Small images</li>
            <li>More posts on screen</li>
          </ul>
          
          <h3>Social mode (Timeline)</h3>
          <ul>
            <li>Posts in social media style</li>
            <li>Full-width images</li>
            <li>Large avatars</li>
            <li>Floating banner (B key)</li>
          </ul>
        </section>

        <section class="tech-section" id="sorting">
          <h2>Post sorting</h2>
          <p>Posts in feed can be sorted in different ways. Choose convenient display order.</p>
          
          <h3>How to change sorting</h3>
          <ul>
            <li>Open sidebar</li>
            <li>Find "Sorting" section</li>
            <li>Select needed option</li>
            <li>Posts will be resorted instantly</li>
          </ul>
          
          <h3>Sorting options</h3>
          <ul>
            <li><strong>New</strong> â€” fresh posts first</li>
            <li><strong>Best</strong> â€” by number of likes</li>
            <li><strong>Worst</strong> â€” by number of dislikes</li>
            <li><strong>Old</strong> â€” old posts first</li>
            <li><strong>Random</strong> â€” in random order</li>
          </ul>
        </section>



        <section class="tech-section" id="images">
          <h2>Working with images</h2>
          <p>You can add images to posts and comments. They are displayed directly in feed.</p>
          
          <h3>How to add image</h3>
          <ul>
            <li>Click "img" button in editor</li>
            <li>Select one or more images</li>
            <li>Images will appear in post text</li>
            <li>Use "âŒ˜" button for centering</li>
          </ul>
          
          <h3>Viewing images</h3>
          <ul>
            <li><strong>Compact mode:</strong> small previews, "Image" button for full size</li>
            <li><strong>Social mode:</strong> full-width images</li>
            <li><strong>In comments:</strong> images embedded in text</li>
          </ul>
        </section>

        <section class="tech-section" id="technical">
          <h2>Technical information</h2>
          
          <h3>Architecture and data storage</h3>
          
          <h4>Channel structure</h4>
          <pre style="background:#f5f5f5;padding:10px;border-radius:4px;font-size:11px;overflow-x:auto">.channels/
â”œâ”€â”€ {channel_slug}/
â”‚   â”œâ”€â”€ channel.json      # name, description, stats
â”‚   â”œâ”€â”€ avatar.jpg        # Channel avatar
â”‚   â””â”€â”€ posts/
â”‚       â””â”€â”€ {post_id}/
â”‚           â”œâ”€â”€ post.json # Post + replies + nestedReplies
â”‚           â”œâ”€â”€ images/   # Original images
â”‚           â””â”€â”€ images.json</pre>
          
          <h4>Subscriptions</h4>
          <p>Stored in IndexedDB (database <code>8SiteDB</code>, store <code>subscriptions</code>).</p>
          
          <h4>Settings</h4>
          <p>localStorage:</p>
          <ul>
            <li><code>youvi_view_mode</code> â€” display mode (compact/social)</li>
            <li><code>youvi_theme</code> â€” theme (light/dark)</li>
          </ul>
          
          <h4>Caching</h4>
          <ul>
            <li>Channel data cache (30 sec)</li>
            <li>Avatar cache (Map)</li>
            <li>Image cache (100 elements)</li>
          </ul>
        </section>
   
        <section class="tech-section">
          <h3>Performance optimization</h3>
          
          <h4>Batch rendering</h4>
          <p>Posts are rendered in batches of 30 to prevent UI blocking:</p>
          <ul>
            <li>First batch renders immediately</li>
            <li>Next batches via <code>requestAnimationFrame</code></li>
            <li>Loading indicator between batches</li>
          </ul>
          
          <h4>Lazy image loading</h4>
          <p>Images load only when appearing in viewport using Intersection Observer:</p>
          <ul>
            <li>Visibility threshold: 200px from screen edge</li>
            <li>Blob URL cache (100 elements)</li>
            <li>Automatic revocation of old URLs</li>
          </ul>
          
          <h4>Post loading optimization</h4>
          <p>Parallel loading of posts from all channels:</p>
          <ul>
            <li>Channels processed in parallel</li>
            <li>Minimal console logging</li>
            <li>Empty folder skipping</li>
            <li>Channel metadata caching</li>
          </ul>
          
          <h4>Infinite scroll</h4>
          <p>Automatic loading of next post batch when reaching page end (500px threshold).</p>
        </section>

        <section class="tech-section">
          <h3>System pages</h3>
          <ul>
            <li><code>youvi_feed_all.html</code> â€” general feed of all posts</li>
            <li><code>youvi_ch_feed.html</code> â€” specific channel feed</li>
            <li><code>youvi_ch_feed_rep.html</code> â€” post page with comments</li>
            <li><code>youvi_ch_list.html</code> â€” list of all channels</li>
            <li><code>youvi_subscriptions.html</code> â€” user subscriptions</li>
          </ul>
        </section>

        <section class="tech-section">
          <h3>Parameter summary table</h3>
          <table style="width:100%;border-collapse:collapse;font-size:13px">
            <thead>
              <tr style="background:#f5f5f5">
                <th style="padding:8px;text-align:left;border:1px solid #ddd">Parameter</th>
                <th style="padding:8px;text-align:left;border:1px solid #ddd">Value</th>
              </tr>
            </thead>
            <tbody>
              <tr><td style="padding:8px;border:1px solid #ddd">Maximum comment nesting</td><td style="padding:8px;border:1px solid #ddd">10 levels</td></tr>
              <tr><td style="padding:8px;border:1px solid #ddd">Display modes</td><td style="padding:8px;border:1px solid #ddd">Compact, Timeline</td></tr>
              <tr><td style="padding:8px;border:1px solid #ddd">Sorting options</td><td style="padding:8px;border:1px solid #ddd">New, Best, Worst, Old, Random</td></tr>
              <tr><td style="padding:8px;border:1px solid #ddd">Filtering</td><td style="padding:8px;border:1px solid #ddd">All, Subscriptions</td></tr>
              <tr><td style="padding:8px;border:1px solid #ddd">Render batch</td><td style="padding:8px;border:1px solid #ddd">30 posts</td></tr>
              <tr><td style="padding:8px;border:1px solid #ddd">Image cache</td><td style="padding:8px;border:1px solid #ddd">100 URLs</td></tr>
              <tr><td style="padding:8px;border:1px solid #ddd">Channel cache</td><td style="padding:8px;border:1px solid #ddd">30 seconds</td></tr>
              <tr><td style="padding:8px;border:1px solid #ddd">Timeline width</td><td style="padding:8px;border:1px solid #ddd">740px</td></tr>
              <tr><td style="padding:8px;border:1px solid #ddd">Hotkeys</td><td style="padding:8px;border:1px solid #ddd">B (banner), Ctrl+Enter (publish)</td></tr>
            </tbody>
          </table>
        </section>


            </div>
            </main>
        </div><!-- /content-wrapper -->
    </div>

  <footer class="footer">
    <div class="footer-content">
      <div class="footer-main">
        <div class="footer-logo">
          <img src="../images/logo_youvi_ind_ex.png" alt="Youvi" loading="lazy">
          <p>Platform for watching video content. Save, categorize and watch videos.</p>
        </div>
        <div class="footer-sections">
          <div class="footer-section">
            <h3>Sections</h3>
            <ul>
              <li><a href="../youvi_main.html">Videos</a></li>
              <li><a href="../youvi_tags.html">Tags</a></li>
              <li><a href="../youvi_feed_all.html">Feed</a></li>
              <li><a href="../index.html">Management</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h3>Library</h3>
            <ul>
              <li><a href="../youvi_ch_list.html">Channels</a></li>
              <li><a href="../youvi_playlists_list.html">Playlists</a></li>
              <li><a href="../youvi_subscriptions.html">Subscribes</a></li>
              <li><a href="../youvi_fav.html">Favorites</a></li>
              <li><a href="../youvi_history.html">History</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h3>Wiki</h3>
            <ul>
              <li><a href="index.html">Main</a></li>
              <li><a href="player.html">Player</a></li>
              <li><a href="danmaku.html">Danmaku</a></li>
              <li><a href="tags/general.html">Tags</a></li>
              <li><a href="tags/rules.html">Tagging Rules</a></li>
              <li><a href="search/general.html">Search</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h3>PGC</h3>
            <ul>
              <li><a href="../youvi_main.html?tag=Anime (ct)">Anime</a></li>
              <li><a href="../youvi_main.html?tag=Animation (ct)">Animation</a></li>
              <li><a href="../youvi_main.html?tag=Movies (ct)">Movies</a></li>
              <li><a href="../youvi_main.html?tag=Series (ct)">Series</a></li>
              <li><a href="../youvi_main.html?tag=Music (ct)">Music</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h3>UGC</h3>
            <ul>
              <li><a href="../youvi_main.html?tag=Games (ct)">Games</a></li>
              <li><a href="../youvi_main.html?tag=Technologies (ct)">Technologies</a></li>
              <li><a href="../youvi_main.html?tag=Entertainment (ct)">Entertainment</a></li>
              <li><a href="../youvi_main.html?tag=IRL (ct)">IRL</a></li>
              <li><a href="../youvi_main.html?tag=TV (ct)">TV</a></li>
              <li><a href="../youvi_main.html?tag=Education (ct)">Education</a></li>
              <li><a href="../youvi_main.html?tag=Other (ct)">Other</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h3>About Site</h3>
            <ul>
              <li><a href="about.html">About Site</a></li>
              <li><a href="docs.html">Documentation</a></li>
              <li><a href="tech.html">Technologies</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="footer-right">
        <div class="footer-mascot">
          <img src="../images/mascot1.png" alt="Yuvi" loading="lazy">
        </div>
      </div>
    </div>
  </footer>

    <script src="../youvi/sidebar-scroll.js"></script>
    <script src="../youvi/themes/theme-toggle.js"></script>
    <script>
        try {
            const toggle = document.getElementById('sidebarToggle');
            const html = document.documentElement;
            
            const savedState = localStorage.getItem('sidebarCollapsed');
            if (savedState === 'true') {
                html.classList.add('sidebar-collapsed');
            }
            
            if (toggle) {
                toggle.addEventListener('click', () => {
                    html.classList.toggle('sidebar-collapsed');
                    localStorage.setItem('sidebarCollapsed', html.classList.contains('sidebar-collapsed'));
                });
            }
        } catch(_) {}

        try {
            const input = document.querySelector('#headerSearchInput');
            const btn = document.querySelector('#doSearch');
            if (btn && input) {
                const go = () => {
                    const q = (input.value || '').trim();
                    const url = q ? `../youvi_search.html?q=${encodeURIComponent(q)}` : '../youvi_search.html';
                    location.href = url;
                };
                btn.addEventListener('click', go);
                input.addEventListener('keyup', (e) => { if (e.key === 'Enter') go(); });
            }
        } catch(_) {}
    </script>
</body>
</html>